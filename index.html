<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>

        <link rel="stylesheet" href="./assets/css/reset.css" />
        <link rel="stylesheet" type="text/css" href="./assets/css/fullpage.css" />
        <link rel="stylesheet" href="./assets/css/main.css" />

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- <script src="./assets/js/easings.min.js" defer></script> -->
    </head>
    <body>
        <main class="pc_main_page" style="height: 100%; position: relative">
            <div id="fullpage" class="fullpage-wrapper">
                <section class="section" data-anchor="section1"></section>
                <section class="section l-projects-section" data-anchor="section2">
                    <div class="fp-slides">
                        <div class="fp-slidesContainer">
                            <section class="l-projects slide">
                                <div style="height: 100%">
                                    <div class="l-scroll-section">
                                        <div class="l-left">
                                            <a href="#" class="l-link-top"> Все проекты </a>
                                            <ul class="l-left-list">
                                                <li class="item">
                                                    <div class="item-flex">
                                                        <div class="top">
                                                            <span class="text-purple text-20 text-thin">Портфолио</span>
                                                            <span class="h2">Название проекта</span>
                                                            <p>
                                                                Вот вам яркий пример современных тенденций — сложившаяся
                                                                структура организации прекрасно подходит для реализации
                                                                распределения внутренних резервов и ресурсов.
                                                            </p>
                                                        </div>
                                                        <div class="bottom">
                                                            <button href="#" class="link button button--circle">
                                                                <svg
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    width="24"
                                                                    height="24"
                                                                    viewBox="0 0 24 24"
                                                                    fill="none"
                                                                >
                                                                    <path
                                                                        d="M5 12H19"
                                                                        stroke="white"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round"
                                                                    ></path>
                                                                    <path
                                                                        d="M17 9L20 12L17 15"
                                                                        stroke="white"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round"
                                                                    ></path>
                                                                </svg>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>

                                                <li class="item">
                                                    <div class="item-flex">
                                                        <div class="top">
                                                            <span class="text-purple text-20 text-thin">Портфолио</span>
                                                            <span class="h2">Название проекта</span>
                                                            <p>
                                                                Вот вам яркий пример современных тенденций — сложившаяся
                                                                структура организации прекрасно подходит для реализации
                                                                распределения внутренних резервов и ресурсов.
                                                            </p>
                                                        </div>
                                                        <div class="bottom">
                                                            <button href="#" class="link button button--circle">
                                                                <svg
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    width="24"
                                                                    height="24"
                                                                    viewBox="0 0 24 24"
                                                                    fill="none"
                                                                >
                                                                    <path
                                                                        d="M5 12H19"
                                                                        stroke="white"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round"
                                                                    ></path>
                                                                    <path
                                                                        d="M17 9L20 12L17 15"
                                                                        stroke="white"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round"
                                                                    ></path>
                                                                </svg>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="item">
                                                    <div class="item-flex">
                                                        <div class="top">
                                                            <span class="text-purple text-20 text-thin">Портфолио</span>
                                                            <span class="h2">Название проекта</span>
                                                            <p>
                                                                Вот вам яркий пример современных тенденций — сложившаяся
                                                                структура организации прекрасно подходит для реализации
                                                                распределения внутренних резервов и ресурсов.
                                                            </p>
                                                        </div>
                                                        <div class="bottom">
                                                            <button href="#" class="link button button--circle">
                                                                <svg
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    width="24"
                                                                    height="24"
                                                                    viewBox="0 0 24 24"
                                                                    fill="none"
                                                                >
                                                                    <path
                                                                        d="M5 12H19"
                                                                        stroke="white"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round"
                                                                    ></path>
                                                                    <path
                                                                        d="M17 9L20 12L17 15"
                                                                        stroke="white"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round"
                                                                    ></path>
                                                                </svg>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="l-right">
                                            <div class="wrap l-projects__slides-list-wrap">
                                                <ul class="l-right-list l-projects__slides-list">
                                                    <li
                                                        class="item l-projects__slides-list-item"
                                                        data-bg="https://restoranoved.ru/netcat_files/3/1/kfs_368.jpg"
                                                    >
                                                        <div class="item-img">
                                                            <img
                                                                src="https://elegrant.ru/src/img/main/slide-1.jpeg"
                                                                alt=""
                                                                loading="lazy"
                                                            />
                                                        </div>
                                                    </li>
                                                    <li
                                                        class="item l-projects__slides-list-item"
                                                        data-bg="https://kfckosova.com/wp-content/uploads/2020/05/1.png"
                                                    >
                                                        <div class="item-img">
                                                            <img
                                                                src="https://elegrant.ru/src/img/main/slide-1.jpeg"
                                                                alt=""
                                                                loading="lazy"
                                                            />
                                                        </div>
                                                    </li>
                                                    <li
                                                        class="item l-projects__slides-list-item"
                                                        data-bg="https://elegrant.ru/src/img/main/background-3.jpg"
                                                    >
                                                        <div class="item-img">
                                                            <img
                                                                src="https://elegrant.ru/src/img/main/slide-1.jpeg"
                                                                alt=""
                                                                loading="lazy"
                                                            />
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <script>
            $(document).ready(function () {
                $("#fullpage").fullpage({
                    scrollOverflow: true,
                    licenseKey: "null",
                    // navigation: false,
                    // navigationPosition: "left",
                    // navigationTooltips: ["01", "02", "03", "04", "05"],
                    // showActiveTooltip: true,
                    anchors: ["section1", "section2"],
                    parallaxOptions: { type: "reveal", percentage: 62, property: "translate" },
                    // credits: { enabled: false, label: 'Made with fullPage.js', position: 'right' },
                    afterLoad: () => {
                        if ($(".l-projects").length) {
                            $(".l-projects__slides-list-wrap").addClass("fixed show");
                            let r = $(".l-projects__slides-list-item").eq(0).attr("data-bg");
                            $(".l-projects__slides-list-wrap").css({
                                background: `url(${r}) no-repeat left center`,
                            });
                        }
                    },
                    onScrollOverflow: (section, slide, position, direction) => {
                        const isProjects = $(section.item).hasClass("l-projects-section");
                        if (isProjects) {
                            projectSlider(position);
                        }
                    },
                });
                const projectSlider = (position) => {
                    let t = position,
                        e = window.innerHeight,
                        i = $(".l-projects").offset().top - 1,
                        n = i + $(".l-projects").height() * 2 - e,
                        o = (t - i) / (e / 100),
                        r = $(".l-projects__slides-list-item").eq(0).attr("data-bg");

                    o / 1.6 > 50 && (r = $(".l-projects__slides-list-item").eq(1).attr("data-bg")),
                        o / 1.6 > 100 && (r = $(".l-projects__slides-list-item").eq(2).attr("data-bg")),
                        $(".l-projects__slides-list-wrap").css({
                            background: `url(${r}) no-repeat left center`,
                        }),
                        t > i - 0.3 * e
                            ? (t > i
                                  ? $(".l-projects__slides-list-wrap").addClass("fixed")
                                  : $(".l-projects__slides-list-wrap").removeClass("fixed"),
                              t > n
                                  ? $(".l-projects__slides-list-wrap").addClass("bottom")
                                  : $(".l-projects__slides-list-wrap").addClass("show").removeClass("bottom"),
                              $(".l-projects__slides-list").css({
                                  left: -o / 1.4 + "%",
                              }))
                            : ($(".l-projects__slides-list-wrap").removeClass("show fixed bottom").css({
                                  background: "",
                              }),
                              $(".l-projects__slides-list").css({
                                  left: "",
                              }));
                };
            });
        </script>

        <script type="module" src="./main.js"></script>
    </body>
</html>
